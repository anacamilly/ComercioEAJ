<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Meu Perfil</title>
    <link th:replace="/fragments/logo.html ::logo">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="./modal.css">
    <link rel="stylesheet" href="./style.css">
    <style>
        .profile-image-container {
            position: relative;
            text-align: center;
        }

        .btn-edit-image {
            position: absolute;
            top: 0;
            right: 0;
            background-color: transparent;
            border: none;
            cursor: pointer;
        }
    </style>
</head>
<body class="back">
<nav th:replace="/fragments/navbar.html ::nav"></nav>
<section class="py-5">

    <div class="container px-4 px-lg-5 mt-5">

        <h1 class="text-center fw-bold">Perfil de Vendedor</h1>

        <br>
    <!-- Janela modal de confirmação -->

        <div class="modal-overlay" th:if="${mensagem}">
            <div class="modal-content">
                <button class="btn text-white btn-close" onclick="closeModal()" style="margin-top: 10px; margin-right: 10px;"></button>
                <div style="display: flex; justify-content: center; align-items: center; margin-bottom: 10px;">
                    <img src="/concluido.svg" width="75" height="75">
                </div>
                <p th:text="${mensagem}"></p>
                <button class="btn btn-dark text-white btn-ok" onclick="closeModal()">OK</button>
            </div>
        </div>

        <div class="card mt-5">
            <div class="row g-0">
                <div class="col-md-4">
                    <div class="position-relative profile-image-container">
                        <div class="d-flex align-items-start justify-content-center m-3">
                            <img class="card-img-top rounded-circle" th:src="${usuario.imagemUri != null and !usuario.imagemUri.isEmpty()} ? '/images/' + ${usuario.imagemUri} : '/images/perfil.png'"  alt="Vendor Image" style="width: 150px; height: 150px; object-fit: contain;">
                            <a th:href="@{'/usuario/alterar-foto/'+*{usuario.id}}" class="btn btn-edit-image btn-edit-image--margin position-absolute top-0 end-0 m-2">
                                <img src="/editar_imagem.png" width="30" height="30">
                            </a>
                        </div>
                    </div>
                    </div>
                <div class="col-md-8">
                    <div class="card-body px-4 py-3 m-3">
                        <h5 class="card-title h4 fw-bold" th:text="${usuario.nomeSocial}"></h5>
                        <p class="card-text">Nome Completo: <span th:text="${usuario.nome}"></span></p>
                        <p class="card-text">Email: <span th:text="${usuario.email}"></span></p>
                        <p class="card-text">Login: <span th:text="${usuario.login}"></span></p>
                        <p class="card-text">Data de Nascimento: <span th:text="${usuario.dataNascimento}"></span></p>
                    </div>
                </div>
            </div>

            <hr>
        <div class="col-md-8">
            <div th:if="${usuario.isVendedor}">
                    <div class="card-body">
                        <h5 class="card-title">Informações do Vendedor</h5>
                        <p class="card-text">Nome da Loja: <span th:text="${usuario.razao}"></span></p>
                        <p class="card-text">Biografia: <span th:text="${usuario.biografia}"></span></p>
                        <p class="card-text">WhatsApp: <span th:text="${usuario.whatsapp}"></span></p>
                        <div class="d-flex align-items-center">
                            <img src="/instagram-icone.png" width="17" height="17" alt="Instagram">
                            <p class="card-text" th:text="${usuario.instagram}"></p>
                        </div>
                </div>
            </div>
        </div>
            <a class="btn btn-primary" th:href="@{'/meu-perfil/atualizar/'+*{usuario.id}}">Editar</a>
    </div>
    </div>
</section>
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.6.0/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous"></script>
<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
<script src="./modal.js"></script>
</body>
</html>
