<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Meus Produtos</title>
    <link th:replace="/fragments/logo.html ::logo">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
    <link href="./modal.css" rel="stylesheet">
    <link href="/style.css" rel="stylesheet">
</head>
<body class="back">
<nav th:replace="/fragments/navbar.html ::nav"></nav>

<section class="py-5">
    <div class="container px-4 px-lg-5 mt-5">
        <h1 class="text-center fw-bold">Meus Produtos</h1>
        <br><br>

        <div th:replace="/fragments/modal.html ::modal"></div>

        <div class="row gx-4 gx-lg-5 row-cols-2 row-cols-md-3 row-cols-xl-4 justify-content-center">
            <!-- Iterar sobre os produtos e exibi-los como cards -->
            <div class="col-md-5" th:each="produto : ${produtos}">
                    <div class="card h-100 border rounded-3">
                        <div class="card-body p-2 align-items-center">
                            <div class="position-relative">
                                <img class="card-img-top" width="250" height="250" th:src="${produto.imagemUri != null and !produto.imagemUri.isEmpty()} ? '/images/' + ${produto.imagemUri} : '/images/produtosemimagem.png'">
                                <div th:class="${produto.disponibilidade} ? 'position-absolute bottom-0 start-0 p-2 text-white bg-success w-100 text-center' : 'position-absolute bottom-0 start-0 p-2 text-white bg-danger w-100 text-center'">
                                    <span th:text="${produto.disponibilidade ? 'Disponível' : 'Indisponível'}"></span>
                                </div>
                            </div>

                            <div class="card-body">
                                <h5 class="card-title" th:text="${produto.titulo}"></h5>
                                <p class="card-text" th:text="${produto.descricao}"></p>
                                <a th:href="@{'/meus-produtos/detalhes/'+*{produto.id}}" class="btn btn-outline-success btn-block w-100">
                                        Ver produto
                                    </a>
                            </div>
                        </div>
                    </div>
            </div>
        </div>
    </div>

    <!-- Botão fixo no lado direito -->
    <a th:href="@{/produtos/cadastro}" class="btn btn-success fixed-button">
        <img src="/adicionar-acrescentar.png" width="20" height="20" alt="Perfil">  Cadastrar Produtos
    </a>

</section>

<script src="./modal.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js" integrity="sha384-fbbOQedDUMZZ5KreZpsbe1LCZPVmfTnH7ois6mU1QK+m14rQ1l2bGBq41eYeM/fS" crossorigin="anonymous"></script>
</body>
</html>
